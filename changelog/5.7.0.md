---
title: v5.7.0-release
description: 描述5.6.0-5.7.0版本变更信息
date: 2022-06-11
---

<!--truncate-->

## 版本变更（5.6.0-5.7.0）

## 主要功能点解读：

### 1. 插件分享和一键安装

为了业务容器的运维和管理能力，Rainbond 通过pod中的sidecar实现了插件机制。开发者可以自己开发插件，并根据业务需要按需开启和配置插件，当前插件已经可以实现：

- 在不更改现有业务代码的情况下扩展组件的功能
- 在业务运行前完成一些数据初始化的操作
- 将业务的日志发送到外部服务器用于分析处理
- 拦截清洗业务的流量，用作防火墙
- 监控业务的性能指标等

但是，在之前的版本中，用户在某个团队下创建出插件后，需要给另一个团队使用时，还需要再次手动创建，设置对应的配置项。这在一定程度上增加了用户使用的门槛。
现在和应用一样，我们在支持[应用的分享](https://www.rainbond.com/docs/use-manual/app-store-manage/share-app)和一键安装后，也可以支持插件的分享和一键安装。当你在某个团队下制作好了可用的插件，你可以通过 Rainbond 的本地组件库或开源应用商店分享出去。其他用户可以通过组件库和开源应用商店安装使用。这样的好处是插件也可以像应用一样积累和复用，社区用户开发的插件也可以分享给其他用户使用。

![img](https://grstatic.oss-cn-shanghai.aliyuncs.com/docs/5.7/community/change/install-plugin.png)

### 2. 扩展插件的配置能力

当插件本身运行时需要相应配置文件或存储时，用户需要手动去组件里添加存储。这是因为插件与组件之间共享存储，但是当一个插件用于多个组件时，那么需要去每个组件下配置存储，这造成了配置的复杂性。
现在用户可以直接在插件里配置插件运行时所需的存储和配置文件。如下图所示：

![img](https://grstatic.oss-cn-shanghai.aliyuncs.com/docs/5.7/community/change/config-plugin.png)

这样当用户为组件开通插件以后，就可以自动为组件创建出对应的存储和配置文件。减少了配置的复杂性。

### 3. 支持对接 Ceph
稳定可靠的存储是在生产环境中使用 Kubernetes 最重要的一环。Kubernetes 默认提供了主流的存储卷接入方案（In-Tree），同时也提供了插件机制（Out-Of-Tree），允许接入实现了 CSI 接口的第三方存储，当前版本中，通过扩展CSI能力可以完美对接Ceph。

## 详细变更点

### 新增功能

- 【插件管理】支持插件分享和安装

- 【插件管理】支持插件单独定义存储和配置文件

- 【组件管理】源码构建支持 nodejs16 版本

- 【应用管理】支持应用按更新时间和运行状态排序

- 【存储】支持通过 CSI 对接 ceph 存储

### 优化功能

- 【组件管理】优化 web 终端默认容器为组件容器

- 【安装】优化 dind 版本安装时环境检测和提示

- 【安装】优化 helm 安装时环境检查与提示

- 【团队视图】优化团队视图响应速度

- 【组件管理】优化组件日志过大时导致占用磁盘过大的问题

- 【企业管理】企业视图下增加团队资源展示

- 【组件管理】优化内置 mesh 插件资源限制导致的性能问题

### BUG 修复

- 【网关】修复网关策略过多时，新增策略不生效的问题

- 【组件管理】修复组件资源监控不生效的问题

- 【组件管理】修复网关路径策略导致的服务端异常问题

- 【团队管理】修复团队创建者被删除导致团队列表无法展示的问题 

- 【企业管理】修复Oauth授权自动过期的问题

- 【组件管理】修复第三方组件出现空实例的问题

- 【应用管理】修复发布应用不展示日志的问题

- 【插件管理】修复初始化类型插件卸载后，组件更新后插件不会被清除的问题

- 【插件管理】修复插件的启动命令中配置环境变量不生效问题

## 感谢

感谢以下用户在社区中的参与与反馈，才能使产品变得更好，我们欢迎大家任何形式的参与和贡献。

@pescox   
@briannadev   
@wjn1992   
@gobaiy   
@hcxjava   
@AlfredMiss   
@pytomtoto   
@wison1001   
@haohao722   
@huihui-hb   
@superjackwong   
@meijianxin110   
@lokywang   
@vicemiami   
@yeshusheng1234   

