---
title: 为应用添加存储
summary: 您在容器中操作的数据是会随着容器的重启或停止而丢失的，所以需要将数据持久化存储到分布式存储中。
toc: false
---

<div id="toc"></div>

应用默认情况下是不会挂载任何存储设备的，如果你的应用需要将运行中的数据，如：日志、图片等信息保存，需要添加持久化存储设备。

## 一、添加持久化存储

持久化设置通过数据卷挂载目录的方式，将`分布式存储`、`本地存储`或`内存存储`以数据卷的形式挂载到您应用下的特定目录，该目录下存储的所有数据都会保存在您的分布式存储中，从而保留了您的个人数据。

通过应用【存储】页面可进行相关设置

<img src="https://static.goodrain.com/images/docs/3.6/user-manual/add-volume.gif" width="100%" />


{{site.data.alerts.callout_success}}
- 持久化名称: 由您自定义的名称，定义的原则为方便理解与记忆。
- 持久化目录: 由您指定，将应用下的哪个目录中数据加以保存。
- 持久化类型: 
  - 共享存储：全局分布式存储，默认存储类型。
  - 内存文件存储：内存存储，速度最快，重启后数据丢失。
  - 本地存储：数据存储在宿主机，适用于单节点有状态应用。
{{site.data.alerts.end}}




## 二、挂载其他应用的存储

可以将您其他应用的持久化目录挂载至当前应用下的某个目录下，实现了应用之间的 **文件共享** 

<img src="https://static.goodrain.com/images/docs/3.6/user-manual/add-volume02.gif" style="border:1px solid #eee;width:100%" />

图中的设置，可以理解为：将 **应用组demo** 中的 **php-demo应用** 下的 **/data** 目录 以 **share-file（文件共享）**的方式，挂载至 **当前应用** 下的 **/mnt** 目录下。这样的设置，在设置了 **/var/log** 的持久化的同时，实现了与 **/data** 目录的文件共享。

{{site.data.alerts.callout_danger}}
持久化设置有几点约定规范，请您务必研读遵守

- 持久化目录不可以选择系统级目录，即不可以使用类似 **/**、**/proc** 、**/etc** 等路径。
- 持久化目录一旦挂载，该路径下原有文件将不再生效，您也无法找到它们。
- 持久化设置完成后，需要重启应用方可生效。
{{site.data.alerts.end}}