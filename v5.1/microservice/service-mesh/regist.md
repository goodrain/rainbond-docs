---
title: 服务注册
summary: 打开应用的端口的服务注册
toc: false
toc_not_nested: true
asciicast: true
---
设想下，我们写了一些通过REST API或者Thrift API调用某个服务的代码，为了发起这个请求，你的代码需要知道服务实例的网络地址(IP 地址和端口号）。在传统运行在物理机器上的应用中，某个服务实例的网络地址一般是静态的，比如，代码可以从只会偶尔更新的配置文件中读取网络地址。然而在现在流行的基于云平台的微服务应用中，服务实例需要动态分配网络地址，而且，一组服务实例可能会因为自动扩展、失败或者升级发生动态变化，因此，你的客户端代码应该使用更加精细的服务发现机制。通常情况下，服务发现都是使用注册表的方式来发现服务，客户端可以通过查询注册表的相关信息来发现被调用的服务，而被调用的服务需要将自己注册到注册表，注册的过程就是服务发现。

在云帮平台，你可以通过打开应用的端口设置来实现服务的注册。

<img src="https://static.goodrain.com/images/docs/3.6/micro-service/service-register.png" style="border:1px solid #eee;max-width:100%" />

端口的开放分为`对内服务`和`对外服务`。

* 对内服务
    
    对内服务会生成内部相关变量，允许服务内部之间进行通信。

* 对外服务

    对外服务则会外部负载均衡提供访问地址。允许应用在外部被直接访问。
    
> 通常情况下web应用http协议端口默认为对外服务，可以通过访问地址直接访问；非http类应用 如mysql,redis等默认为对内服务，通过应用依赖来访问。