---
title: 服务监控，性能监控
summary: 服务与性能监控
toc: false
toc_not_nested: true
asciicast: true
---

### 概述

微服务是一个分布式的架构模式，它一直以来都会有一些自身的问题。当一个应用的运行状态出现异常时，对于我们的运维和开发人员来说，即时发现应用的状态异常并解决是非常有必要的。其次是应用是否正常提供服务，应用提供服务的状况又是怎样？我们可以通过监控手段对服务进行衡量，或者做一个数据支撑。服务目前是怎样的性能状况，以及出了问题我们要怎么去发现它。

这些都可能是服务所面对的问题。出现这些问题后，监控就是一个比较常用、有效率的一个手段。总的来说，监控主要解决的是感知系统的状况。

我们Rainbond平台为你提供了服务监控与性能监控，可以简单直观的了解服务当前的状态和信息，目前仅支持HTTP与mysql协议的应用，后续我们会继续提供其他协议的支持。



### 服务监控

我们的服务监控对应用到运行状态，资源使用情况等信息进行实时到反馈，让用直观快速的了解到服务目前的情况，并作出相应的措施。

你可以在应用的总揽信息中看到`应用状态`，我们会每隔几秒钟的时间去获取该应用当前的状态，当应用处在`运行中`时，说明该应用状态正，当应用处在`运行异常`时，你可以通过日志来检查你的应用出现了怎样的问题。如果你是在对应用操作中出现异常，通过操作日志中的信息有助于你找到此次操作发生的问题。

对于该应用的资源使用情况，你可以在应用总览页中的`资源使用`模块中看到该应用的内存占用与磁盘占用情况，当你的应用需要调整内存空间时，你可以在应用的`伸缩`模块中对应用进行伸缩操作。

<img src="https://static.goodrain.com/images/docs/3.6/monitor/jiankong.jpg" style="border:1px solid #eee;width:100%"> 



### 性能监控

在性能监控方面，我们提供了插件`服务实时性能分析`，该插件对你的应用能够进行实时的与持续的性能分析。以WEB服务为例，来说明插件的使用与功能。

> 插件安装

首先在团队`我的插件`中安装插件`服务实时性能分析`，在应用中的`扩展`板块开通插件，点击查看配置，选择要监控的端口号，将`OPEN`选项设置为YES。

> 性能分析

在应用的`监控`模块中，你可以看到当前提供服务应用的一些实时性能分析数据。 

- 平均响应时间：服务响应的平均时长，单位ms
- 吞吐率：过去一分钟平均每5秒的请求数量
- 在线人数：过去5分钟访问的独立IP数量
- 过去5分钟耗时最多的URL排行：过去5分钟内平均耗时最长的路径及他们的平均请求时间，请求数，出现错误的次数。

<img src="https://static.goodrain.com/images/docs/3.6/monitor/shishi.jpg" style="border:1px solid #eee;width:100%">

点击`历史`可以查看1小时至7天内的平均响应时间，吞吐率，在线人数的走势图。来分析该服务的持续性能。

<img src="https://static.goodrain.com/images/docs/3.6/monitor/lishi.jpg" style="border:1px solid #eee;width:100%">
