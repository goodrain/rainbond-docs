---
title: 服务属性
summary: 服务具备哪些属性
toc: true
asciicast: true
---

## 服务的状态

服务一旦创建，就进入到服务的生命周期，在整个生命周期中会有一系列的状态，下文对各个状态进行解释：

|状态| 说明| 可进行的操作|
| -- | -- | --------- |
| <font color="#40a9ff">创建中</font> | 新创建的服务，正处于设置阶段| 进行创建流程|
| <font color="#40a9ff">部署中</font> | 新创建的服务设置完成，正在进行第一次服务版本构建| 构建|
| <font color="#40a9ff">启动中</font> | 服务正在启动，暂时不能访问，启动分为两个阶段，进程启动和业务启动，如果未配置启动时健康检查，只要进程启动完成则认| 为服务启动完成| 关闭，构建 |
| <font color="#28cb75">运行中</font> | 服务所有运行实例处于运行状态，正常来说处于运行中的服务可以被访问，也可能由于业务启动缓慢服务暂时不能访问| 访问，重启，关闭，构建，更新 |
| <font color="red">运行异常</font>| 服务运行正常的实例少于总实例即标识服务运行异常，对于多实例的服务，处于异常态的服务只要还有正常的实例即可提供服务。<br>实例异常大多数情况是由于服务本身异常退出或因为内存不足发生 OOM 退出。<br>平台会自动尝试重启异常的实例。 | 关闭，重启，构建|
| <font color="#40a9ff">升级中</font> | 服务正处于滚动更新过程中，多个节点处于当前状态的服务可以正常访问| 关闭|
| 已关闭| 服务已经停止运行，持久化数据依然存在| 启动，构建|
| <font color="#717171">未知</font>| 服务处于此状态可能由于网络受阻，请求后端服务获取服务状态失败，或后端服务异常<br>可以尝试刷新页面，如果不能解决，需要查看后端服务状态| |

## Chaos组件之应用构建（CI）

<img src="https://static.goodrain.com/images/docs/3.6/architecture/app-ci.png" width="100%" />

​Rainbond 应用构建(CI)的过程是将输入介质：源代码 或 Docker镜像进行一系列处理，最终生成 `应用抽象` 介质的过程。

此过程可重复操作，从而生成一系列的应用版本。

传统意义上说，完整的CI过程会包括：设计、编码、打包、测试和发布，Docker自推出以来逐步成为众多应用代码打包的新形式。

现有的CI产品中已经在源码测试和Pipline方面做得非常成熟，例如Jenkins，Gitlab等，因此Rainbond在对于源码或Docker镜像的前置处理方面可以直接对接第三方服务，由第三方服务处理完成的源码或镜像再对接到 Rainbond-Chaos 模块进行应用抽象。

这样Chaos的输入源是支持Git协议的代码仓库，Docker镜像仓库。如果是源代码，Chaos智能判断源码的类型，例如Java,PHP,Python，Dockerfile等，根据不同的源码类型选择对应的BuildingPack进行源码编译，同时识别源码中定义的运行环境要求参数，应用端口、环境变量等参数，形成应用抽象的配置雏形。除了Dockerfile以外的源码类型将被编译成应用代码环境包（SLUG）存储于分布式存储中，其他的生成Docker本地镜像存储于数据中心镜像仓库中，结合应用的各类属性信息形成`应用抽象包`。
