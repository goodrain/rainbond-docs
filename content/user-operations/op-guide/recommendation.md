---
title: "软件和硬件环境要求"
date: 2019-03-11T12:50:54+08:00
draft: false
weight: 802
---


#### 一. 操作系统要求

| 系统     | 版本         | 说明                     |
| :------- | :----------- | :----------------------- |
| CentOS   | 7.3及以上（推荐CentOS7.4）      | 64位，[ISO下载](http://goodrain-pkg.oss-cn-shanghai.aliyuncs.com/system/CentOS/CentOS-7-x86_64-Minimal-1708.iso)  |
| Ubuntu   | 16.04（推荐）| 64位，[ISO下载](https://goodrain-pkg.oss-cn-shanghai.aliyuncs.com/system/CentOS/ubuntu-16.04.6-server-amd64.iso)             |
| Debian   | 9.6          | 64位                  |
| 中标麒麟 | 服务器版V7.4 | 64位                     |

Rainbond支持部署在物理服务器以及 VMware、KVM、XEN 等主流虚拟化环境上。

> 在搭建高可用Rainbond集群时，我们在Centos及Ubuntu系统中做过大量高可用性测试，所以推荐使用这两种Linux系统部署高可用集群。

#### 二. 系统环境要求

{{% notice warning %}}
* CentOS系统在安装前请[升级内核版本](https://t.goodrain.com/t/topic/1305)
* 确保机器重启，服务器IP地址和nameserver不发生改变，推荐配置静态ip
* 确定系统时间与时区(Asia/Shanghai)同步,节点间时间要同步
* 在线安装确定系统可以正常`yum/apt-get install`相关软件包，需要提前配置系统相关软件源
* 多节点部署时，需要确保节点间时间要同步(很重要)
* 多节点时，机器间网络访问没有限制
{{% /notice %}}

#### 三. 网络要求

管理员可根据实际环境中部署Rainbond的方案，自行开放相关端口

管理节点和计算节点之间网络无限制；对外访问需要放行

```bash
管理节点 6060,7070
网关节点 80,443,8443,10000-65535(tcp应用端口，按需开放)
```

##### 在线安装确定网络没有限制，如有请将以下域名添加到白名单 

|域名列表||
| :------- | :------- | 
|aliyun.com|aliyuncs.com|
|docker.io|domain.grapps.cn|
|repo.goodrain.com|api.goodrain.com|
|hub.goodrain.com||

默认情况下网关节点和管理节点复用;需开放 [相关组件端口](/user-operations/op-guide/required_ports/)


#### 四. 访问Rainbond控制台

建议用户采用高版本的Google Chrome访问


#### 五. 节点类型说明

| 属性    | 类型     | 说明                                                                                                                            |
| ------- | -------- | ------------------------------------------------------------------------------------------------------------------------------- |
| manage  | 管理节点 | 集结平台自身组件，提供应用构建、调度、管理等功能，提供数据中心基础服务与 API 接口，充当控制集群的角色。                         |
| compute | 计算节点 | 提供应用运行的计算资源，N 个计算节点组成计算资源池供给管理节点灵活调度。
| gateway | 网关节点 | 集群内应用被外网访问的流量入口和负载均衡器，提供 HTTP, HTTPs 路由, TCP/UDP 服务, 负载均衡器, 高级路由(A/B 测试, 灰度发布)等功能 |
| storage | 存储节点 | Rainbond集群需要为管理节点与计算节点的 /grdata 目录配置共享存储 | 


#### 六. 服务器要求

Rainbond 支持部署和运行在 Intel x86-64 架构的 64 位通用硬件服务器平台，企业版本已完成国产龙芯平台的迁移适配，正在进行兆芯的迁移适配。

对于开发测试环境及生产环境的服务器硬件配置有以下要求和建议：


##### **单节点安装配置要求**


单节点安装最低配置要求：`CPU:2核 内存:4G  磁盘:60G`

默认情况下节点会给系统预留`1.5核CPU 1.5G内存`的资源；此配置仅可用作界面展示，如需要部署多个应用，建议适当调高配置。

Rainbond在安装时会检查系统配置，如果系统配置过低将会退出安装，如果想跳过系统配置检查，安装时指定`--enable-check disable`，如果配置过低可能会无法正常安装部署。


##### **开发测试环境**

- 节点复用时需要适当调高节点配置。

|服务器角色|CPU|内存|本地存储|网络|实例数量|
|--------|------------|------------|------------|------------|------------|
|管理节点| 4核|8G|`/ 100G`<br>`/cache 50G-100G`<br>`/opt/rainbond/data 100G (推荐SSD)`<br>`/var/lib/docker 100G+`|千兆网卡	|1,3...奇数|
|计算节点| 16核|64G|`/ 100G ` <br> `/var/lib/docker 100G+ `|千兆网卡	|不限制|

##### **生产环境**

- 生产环境强烈推荐使用更高的配置
- 生产环境中，建议管理节点，计算节点，网关节点,存储节点单独部署

|服务器角色|CPU|内存|本地存储|网络|实例数量|
|------|-----|-----|-----|-----|-----|
|管理节点| 8核|32G|`/ 最低要求60G，推荐100G`<br>`/var/lib/docker 100G+`<br>`/opt/rainbond/ 100G (推荐SSD) ` <br>`/cache 50G-100G `|千兆网卡|3,5...奇数|
|计算节点| 16核|64G|`/ 100G ` <br>`/var/lib/docker 100G+ `<br>`/grlocaldata 100G+ `|千兆网卡|推荐至少2节点|
|存储节点|4核|8G|`/ 100G ` <br> `/data 500G+ `|千兆网卡|推荐至少2节点|
|网关节点|4核|8G|`/ 100G ` <br> `/var/lib/docker 100G+ `|千兆网卡|推荐至少3节点|

磁盘分区说明

|挂载点|说明|
|---|---|
| / |系统根分区，本地磁盘|
| /var/lib/docker |docker镜像存储分区，本地磁盘|
| /grdata |集群共享存储|
| /opt/rainbond |存储rainbond程序以及产生的日志、数据，本地磁盘|
| /cache | 存储应用构建使用的缓存，可以使用共享存储在管理节点间共享|
| /grlocaldata |应用本地持久化存储，本地磁盘|
| /data |用于搭建集群共享存储，本地单独挂载磁盘|



