---
title: 自定义共享存储
description: 支持配置共享存储所使用的 StorageClass 资源。
weight: 1003
---

在安装 Rainbond 平台的过程中如未指定存储，则会默认安装 NFS 到集群中，并使用 NFS 作为平台的存储，简化部署和配置过程，让用户能够快速搭建 Rainbond 平台并开始使用。然而，面对不同场景可能面临各种不同的存储需求，仅仅依赖默认的 NFS 可能无法满足所有场景。为了提供更大的灵活性和适应性，Rainbond引入了自定义配置所使用的存储的功能，其意义体现在以下几个方面：

- 满足多样化的存储需求：不同的应用和业务可能对存储的要求不同，有些可能需要高性能的块存储，有些可能需要大规模的对象存储，而有些则可能只需要简单的文件共享。通过支持自定义配置所使用的存储，用户可以根据具体需求选择更适合自己的存储解决方案。

- 提供更高的性能和可靠性：NFS在某些情况下可能无法提供足够的性能或可靠性。通过选择其他存储方案，如Ceph、GlusterFS、云存储等，用户可以获得更高的性能和更好的数据可靠性，从而更好地支撑自己的业务。

- 支持多云和混合云场景：在云原生时代，企业往往会在不同的云厂商或私有云环境中部署应用，因此需要支持多云和混合云场景。通过自定义存储配置，用户可以将应用数据存储在多个云服务商的对象存储中，实现数据的高可用性和灵活性。

- 未来发展和扩展：随着用户规模和业务增长，存储需求可能会不断变化。通过支持自定义配置所使用的存储，Rainbond 能够更好地适应未来的发展和扩展。

### 前置条件

- 确定 Rainbond 版本大于或等于 v5.14.3 版本。

**注意：** 5.14.3 之前的版本升级上来的，如果配置此参数共享存储将不可用，需备份好数据后升级。

- 确定自定义存储的 storageclass 名称。

### 配置

编辑 rbdcomponent  类型资源 的 rbd-worker

```
kubectl edit rbdcomponent rbd-worker -nrbd-system
```

spec字段中添加如下行

```
spec:
  args:
  - --shared-storageclass=你的自定义存储的storageclass名称
```
