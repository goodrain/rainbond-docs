---
title: PHP 项目部署
description: 在 Rainbond 上通过源代码部署 PHP 项目
---

## 概述

By default, the platform will identify a PHP project based on whether there are`index.php` files or `composer.json`files in the source root directory.

### shell hook support

Make shell hook pair calls by configuring `composer.json`

```json
{
  "scripts": {
    "pre-install-cmd": ["bash ./pre-install-cmd.sh"],
    "post-install-cmd": ["bash ./post-install-cmd .sh"]
  },
  "require": {
    "php": "7.1.21",
    "ext-memcached": "*"
  }
}
```

Among them, the definition content of `pre-install-cmd` will be executed before install,`the definition content of post-install-cmd` will be executed after install, and the definition script must be created in advance and given execution permission

### Composer file

默认源码根目录需要存在 `composer.json` 和 `composer.lock` 文件。`composer.lock` can be generated by the following command

```php
complete update --ignore-platform-reqs
```

### Extended support

#### PHP 5.6

The following built-in extensions are automatically enabled on Rainbond (this list does not include extensions that PHP enables by default, such as [DOM](http://php.net/manual/book.dom),[JSON](http://php.net/manual/book.json),[PCRE](http://php.net/manual/book.pcre) or [PDO](http://php.net/manual/book.pdo)):

- [Bzip2](http://php.net/manual/book.bzip2)
- [cURL](http://php.net/manual/book.curl)
- [FPM](http://php.net/manual/book.fpm)
- [mcrypt](http://php.net/manual/book.mcrypt)
- [MySQL (PDO)] (http://php.net/manual/ref.pdfo-mysql) (uses [mysqlnd](http://php.net/manual/book.mysqlnd))
- [MySQLi](http://php.net/manual/book.mysqli) (uses [mysqlnd](http://php.net/manual/book.mysqlnd))
- [OPcache](http://php.net/manual/book.opcache)
- [OpenSSL](http://php.net/manual/book.opensl)
- [PostgreSQL](http://php.net/manual/book.pgsql)
- [PostgreSQL (PDO)](http://php.net/manual/en/ref.pdfo-pgsql.php)
- [Readline](http://php.net/manual/book.readline)
- [Sockets](http://php.net/manual/book.sockets)
- [Zip](http://php.net/manual/book.zip)
- [Zlib](http://php.net/manual/book.zlib)

The following built-in extensions have been built as "shared" and can be enabled via composer.json (internal identifier name given in parentheses)：

- [BCMath](http://php.net/manual/book.bc) (`BCMath`)
- [Calendar](http://php.net/manual/book.calendar) (`Calendar`)
- [Exif](http://php.net/manual/book.exif) (`Exif`)
- [FTP](http://php.net/manual/book.ftp) (`ftp`)
- [GD](http://php.net/manual/book.imag) (`gd`; with PNG, JPEG and FreeType support)
- [GMP](http://php.net/manual/book.gmp) (`gmp`)
- [gettext](http://php.net/manual/book.gettext) (`gettext`)
- [IMAP](http://php.net/manual/book.imap) (`imap`; with SASL and Kerberos support)
- [intl](http://php.net/manual/book.intl) (`intl`)
- [LDAP](http://php.net/manual/book.ldap) (`ldap`; with SASL support)
- [mbstring](http://php.net/manual/book.mbstring) (`mbstring`)
- [MySQL](http://php.net/manual/en/book.mysql) (`mysql`; note that this extension is predated since PHP 5.5, please migrate to MySQLi or PDO)
- [pcntl](http://php.net/manual/book.pcntl) (`pcntl`)
- [Shmop](http://php.net/manual/book.shmop) (`Shmop`)
- [soap](http://php.net/manual/book.soap) (`soap`)
- [SQLite3](http://php.net/manual/book.sqlite3) (`sqlite3`)
- [SQLite (PDO)] (http://php.net/manual/en/ref.pdfo-sqlite) (`pdo_sqlite`)
- [XMLRPC](http://php.net/manual/book.xmlrpc) (`xmlrpc`)
- [XSL](http://php.net/manual/book.xsl) (`xsl`)

The following 3rd party extensions (internal identifier names given in parentheses) can be enabled via composer.json：

- [APCu](http://pecl.php.net/package/apcu) (`apcu`; provides an apc extension for compatibility with legacy software)
- [Blackfire](http://blackfire.io/) (`Blackfire`)
- [Cassandra](http://datastax.github.io/php-driver/) (`Cassandra`)
- [ev](http://php.net/manual/book.ev) (`ev`)
- [event](http://php.net/manual/book.event) (`event`)
- [ImageMagick](http://php.net/manual/book.imagick) (`ImageMagick`)
- [memcached](http://php.net/manual/book.memcached) (`memcached`; build against a version of libmemcached with SASL support)
- [Mongo](http://php.net/manual/book.mongo) (`Mongo`)
- [MongoDB](http://php.net/manual/book.mongodb) (`monodb`)
- [New Relic](http://newrelic.com/php) (`newlic`; will automatically be enabled when the New Relic On is detained during a building)
- [OAuth](http://php.net/manual/book.oauth) (`OAuth`)
- [Phalcon](https://phalconphp.com/) (`Phalcon`)
- [pq](https://mdref.m6w6.name/pq) (`pq`)
- [rdkafka](https://pecl.php.net/package/rdkafka) (`rdkafka`)
- [PHPRedis](http://pecl.php.net/package/redis) (`redis`)

#### PHP 7.0

The following built-in extensions are automatically enabled on Rainbond (this list does not include extensions that PHP enables by default, such as [DOM](http://php.net/manual/book.dom),[JSON](http://php.net/manual/book.json),[PCRE](http://php.net/manual/book.pcre) or [PDO](http://php.net/manual/book.pdo)):

- [Bzip2](http://php.net/manual/book.bzip2)
- [cURL](http://php.net/manual/book.curl)
- [FPM](http://php.net/manual/book.fpm)
- [MySQL (PDO)] (http://php.net/manual/ref.pdfo-mysql) (uses [mysqlnd](http://php.net/manual/book.mysqlnd))
- [MySQLi](http://php.net/manual/book.mysqli) (uses [mysqlnd](http://php.net/manual/book.mysqlnd))
- [OPcache](http://php.net/manual/book.opcache)
- [OpenSSL](http://php.net/manual/book.opensl)
- [PostgreSQL](http://php.net/manual/book.pgsql)
- [PostgreSQL (PDO)](http://php.net/manual/en/ref.pdfo-pgsql.php)
- [Readline](http://php.net/manual/book.readline)
- [Sockets](http://php.net/manual/book.sockets)
- [Zip](http://php.net/manual/book.zip)
- [Zlib](http://php.net/manual/book.zlib)

The following built-in extensions have been built as "shared" and can be enabled via composer.json (internal identifier name given in parentheses)：

- [BCmath](http://php.net/manual/book.bc) (`bcmath`)
- [Calendar](http://php.net/manual/book.calendar) (`Calendar`)
- [Exif](http://php.net/manual/book.exif) (`Exif`)
- [FTP](http://php.net/manual/book.ftp) (`ftp`)
- [GD](http://php.net/manual/book.imag) (`gd`; with PNG, JPEG and FreeType support)
- [GMP](http://php.net/manual/book.gmp) (`gmp`)
- [gettext](http://php.net/manual/book.gettext) (`gettext`)
- [IMAP](http://php.net/manual/book.imap) (`imap`; with SASL and Kerberos support)
- [intl](http://php.net/manual/book.intl) (`intl`)
- [LDAP](http://php.net/manual/book.ldap) (`ldap`; with SASL support)
- [mbstring](http://php.net/manual/book.mbstring) (`mbstring`)
- [mcrypt](http://php.net/manual/book.mcrypt) (`mcrypt`)
- [pcntl](http://php.net/manual/book.pcntl) (`pcntl`)
- [Shmop](http://php.net/manual/book.shmop) (`Shmop`)
- [soap](http://php.net/manual/book.soap) (`soap`)
- [SQLite3](http://php.net/manual/book.sqlite3) (`sqlite3`)
- [SQLite (PDO)] (http://php.net/manual/en/ref.pdfo-sqlite) (`pdo_sqlite`)
- [XMLRPC](http://php.net/manual/book.xmlrpc) (`xmlrpc`)
- [XSL](http://php.net/manual/book.xsl) (`xsl`)

The following 3rd party extensions (internal identifier names given in parentheses) can be enabled via composer.json：

- [APCu](http://pecl.php.net/package/apcu) (`apcu`; provides an apc extension for compatibility with legacy software)
- [Blackfire](http://blackfire.io/) (`Blackfire`)
- [Cassandra](http://datastax.github.io/php-driver/) (`Cassandra`)
- [ev](http://php.net/manual/book.ev) (`ev`)
- [event](http://php.net/manual/book.event) (`event`)
- [ImageMagick](http://php.net/manual/book.imagick) (`ImageMagick`)
- [memcached](http://php.net/manual/book.memcached) (`memcached`; build against a version of libmemcached with SASL support)
- [MongoDB](http://php.net/manual/book.mongodb) (`monodb`)
- [New Relic](http://newrelic.com/php) (`newlic`; will automatically be enabled when the New Relic On is detained during a building)
- [OAuth](http://php.net/manual/book.oauth) (`OAuth`)
- [Phalcon](https://phalconphp.com/) (`Phalcon`)
- [pq](https://mdref.m6w6.name/pq) (`pq`)
- [rdkafka](https://pecl.php.net/package/rdkafka) (`rdkafka`)
- [PHPRedis](http://pecl.php.net/package/redis) (`redis`)

#### PHP 7.1

The following built-in extensions are automatically enabled on Rainbond (this list does not include extensions that PHP enables by default, such as [DOM](http://php.net/manual/book.dom),[JSON](http://php.net/manual/book.json),[PCRE](http://php.net/manual/book.pcre) or [PDO](http://php.net/manual/book.pdo)):

- [Bzip2](http://php.net/manual/book.bzip2)
- [cURL](http://php.net/manual/book.curl)
- [FPM](http://php.net/manual/book.fpm)
- [MySQL (PDO)] (http://php.net/manual/ref.pdfo-mysql) (uses [mysqlnd](http://php.net/manual/book.mysqlnd))
- [MySQLi](http://php.net/manual/book.mysqli) (uses [mysqlnd](http://php.net/manual/book.mysqlnd))
- [OPcache](http://php.net/manual/book.opcache)
- [OpenSSL](http://php.net/manual/book.opensl)
- [PostgreSQL](http://php.net/manual/book.pgsql)
- [PostgreSQL (PDO)](http://php.net/manual/en/ref.pdfo-pgsql.php)
- [Readline](http://php.net/manual/book.readline)
- [Sockets](http://php.net/manual/book.sockets)
- [Zip](http://php.net/manual/book.zip)
- [Zlib](http://php.net/manual/book.zlib)

The following built-in extensions have been built as "shared" and can be enabled via composer.json (internal identifier name given in parentheses)：

- [BCMath](http://php.net/manual/book.bc) (`BCMath`)
- [Calendar](http://php.net/manual/book.calendar) (`Calendar`)
- [Exif](http://php.net/manual/book.exif) (`Exif`)
- [FTP](http://php.net/manual/book.ftp) (`ftp`)
- [GD](http://php.net/manual/book.imag) (`gd`; with PNG, JPEG and FreeType support)
- [GMP](http://php.net/manual/book.gmp) (`gmp`)
- [gettext](http://php.net/manual/book.gettext) (`gettext`)
- [IMAP](http://php.net/manual/book.imap) (`imap`; with SASL and Kerberos support)
- [intl](http://php.net/manual/book.intl) (`intl`)
- [LDAP](http://php.net/manual/book.ldap) (`ldap`; with SASL support)
- [mbstring](http://php.net/manual/book.mbstring) (`mbstring`)
- [mcrypt](http://php.net/manual/book.mcrypt) (`mcrypt`)
- [pcntl](http://php.net/manual/book.pcntl) (`pcntl`)
- [Shmop](http://php.net/manual/book.shmop) (`Shmop`)
- [soap](http://php.net/manual/book.soap) (`soap`)
- [SQLite3](http://php.net/manual/book.sqlite3) (`sqlite3`)
- [SQLite (PDO)] (http://php.net/manual/en/ref.pdfo-sqlite) (`pdo_sqlite`)
- [XMLRPC](http://php.net/manual/book.xmlrpc) (`xmlrpc`)
- [XSL](http://php.net/manual/book.xsl) (`xsl`)

The following 3rd party extensions (internal identifier names given in parentheses) can be enabled via composer.json：

- [APCu](http://pecl.php.net/package/apcu) (`apcu`; provides an apc extension for compatibility with legacy software)
- [Blackfire](http://blackfire.io/) (`Blackfire`)
- [Cassandra](http://datastax.github.io/php-driver/) (`Cassandra`)
- [ev](http://php.net/manual/book.ev) (`ev`)
- [event](http://php.net/manual/book.event) (`event`)
- [ImageMagick](http://php.net/manual/book.imagick) (`ImageMagick`)
- [memcached](http://php.net/manual/book.memcached) (`memcached`; build against a version of libmemcached with SASL support)
- [MongoDB](http://php.net/manual/book.mongodb) (`monodb`)
- [New Relic](http://newrelic.com/php) (`newlic`; will automatically be enabled when the New Relic On is detained during a building)
- [OAuth](http://php.net/manual/book.oauth) (`OAuth`)
- [Phalcon](https://phalconphp.com/) (`Phalcon`)
- [pq](https://mdref.m6w6.name/pq) (`pq`)
- [rdkafka](https://pecl.php.net/package/rdkafka) (`rdkafka`)
- [PHPRedis](http://pecl.php.net/package/redis) (`redis`)

## 部署示例

进入到团队下，新建应用选择基于源码示例进行构建，选中 PHP Demo 并默认全部下一步即可。