---
title: TCP
description: 本文介绍如何在 Rainbond 中配置和管理 TCP 路由策略
keywords:
- TCP 路由配置
---

Rainbond TCP 基于 Kubernetes NodePort 实现,为组件提供 TCP 协议的对外访问能力。

## 功能说明

TCP 网关适用于需要直接暴露 TCP 端口的场景,例如:
- 数据库服务(MySQL、PostgreSQL、MongoDB 等)
- 缓存服务(Redis、Memcached 等)
- 消息队列(RabbitMQ、Kafka 等)
- 其他 TCP 协议的服务

## 使用步骤

### 1. 配置组件端口

在组件的端口配置中:

1. 进入组件详情页面
2. 点击 **端口** 标签
3. 添加或编辑端口,设置协议类型为 **TCP**
4. 开启 **对外端口**

开启对外端口后,系统会自动为该端口分配一个 TCP 访问端口。

### 2. 在网关管理中配置 TCP 端口

1. 进入 **网关管理** -> **TCP** 页面
2. 点击 **添加 TCP 策略**
3. 配置以下信息:
   - **端口号**: 自定义对外暴露的端口(范围通常为 30000-32767)
   - **选择组件**: 选择需要对外暴露的组件和端口
4. 点击 **保存**

### 3. 访问 TCP 服务

保存后,可以通过以下方式访问:

```
<集群节点 IP>:<自定义端口号>
```

例如:
```
192.168.1.100:30001
```

## 删除 TCP 策略

如果不再需要某个 TCP 端口暴露:

1. 进入 **网关管理** -> **TCP** 页面
2. 找到对应的 TCP 策略
3. 点击 **删除** 按钮
4. 确认删除

删除后,该端口将不再对外暴露,释放的端口号可以重新使用。

## 注意事项

- TCP 策略一旦保存,**只能删除,不能编辑**
- 如需修改端口配置,需要先删除原有策略,然后重新创建
- 自定义端口号不能与已有端口冲突
- TCP 端口会占用集群节点的实际端口,请合理规划端口使用
