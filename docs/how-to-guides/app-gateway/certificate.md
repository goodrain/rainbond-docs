---
title: 证书管理
description: 本文介绍如何在 Rainbond 中管理 HTTPS 证书
keywords:
- 证书管理
- HTTPS 证书
- SSL 证书
---

Rainbond 支持为 HTTP 应用配置 HTTPS 证书,提供安全的加密访问能力。

## 功能说明

证书管理支持:
- **手动签发**: 手动上传已有的证书和私钥
- **第三方签发**: 支持导入第三方签发的证书(如阿里云、腾讯云等)
- 证书绑定到域名,实现 HTTPS 访问
- 查看证书过期时间,及时更新证书

## 使用步骤

### 1. 添加证书

1. 进入 **网关管理** -> **证书管理** 页面
2. 切换到 **手动签发** 标签页
3. 点击 **添加证书** 按钮
4. 填写证书信息:

#### 证书名称

输入一个便于识别的证书名称,例如 `test.example.com`

#### 公钥证书

粘贴完整的证书内容,格式如下:

```
-----BEGIN CERTIFICATE-----
MIIDLjCCAxc2gAwIBAgISBsDbtvPu74wtW...
-----END CERTIFICATE-----
```

:::tip
- 证书必须是 PEM 格式
- 如果有证书链,需要将完整的证书链内容都粘贴进来
- 证书内容需要包含 `-----BEGIN CERTIFICATE-----` 和 `-----END CERTIFICATE-----`
:::

#### 私钥

粘贴证书对应的私钥内容,格式如下:

```
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA...
-----END RSA PRIVATE KEY-----
```

:::warning
私钥是敏感信息,请妥善保管,不要泄露给他人。
:::

5. 点击 **确定** 完成添加

### 2. 查看证书列表

在证书管理页面可以查看所有已添加的证书:

- **证书名称**: 证书的名称
- **证书地址**: 证书绑定的域名(支持泛域名)
- **过期时间**: 证书的过期时间
- **证书来源**: 显示证书的签发方式(手动签发/第三方签发)
- **操作**: 可以编辑或删除证书

### 3. 编辑证书

如需更新证书(例如证书即将过期):

1. 在证书列表中找到需要更新的证书
2. 点击 **编辑** 按钮
3. 更新公钥证书和私钥内容
4. 点击 **确定** 保存

:::tip
建议在证书过期前提前更新,避免影响服务访问。
:::

### 4. 删除证书

如不再需要某个证书:

1. 在证书列表中找到对应的证书
2. 点击 **删除** 按钮
3. 确认删除

:::warning
删除证书前,请确保该证书没有被任何 HTTP 路由使用,否则可能导致 HTTPS 访问失败。
:::

### 5. 在 HTTP 路由中使用证书

添加证书后,系统会自动为匹配的域名启用 HTTPS:

1. 进入 **网关管理** -> **路由管理** -> **HTTP** 页面
2. 添加或编辑 HTTP 路由,配置域名
3. 如果该域名有对应的证书,系统会自动匹配并启用 HTTPS 访问

:::tip
- 系统会自动根据域名匹配证书,无需手动选择
- 泛域名证书(如 `*.example.com`)可以自动匹配所有子域名
- 证书匹配成功后,该域名即可通过 HTTPS 访问
:::

## 注意事项

- 证书和私钥必须匹配,否则会导致 HTTPS 访问失败
- 证书必须是 PEM 格式,并包含完整的证书链
- 私钥不能有密码保护,如果有密码需要先去除
- 定期检查证书过期时间,及时更新证书
- 泛域名证书(如 `*.example.com`)可以用于该域名下的所有子域名
- 删除证书前确保没有路由在使用该证书

## 常见问题

### 证书上传后 HTTPS 访问失败

可能原因:
- 证书和私钥不匹配
- 证书格式不正确
- 证书已过期
- 证书链不完整

解决方法:
- 验证证书和私钥是否匹配
- 确保使用 PEM 格式
- 检查证书有效期
- 确保上传了完整的证书链

### 如何去除私钥密码

如果私钥有密码保护,使用以下命令去除:

```bash
openssl rsa -in encrypted-key.pem -out decrypted-key.pem
```

### 如何查看证书信息

使用以下命令查看证书详细信息:

```bash
openssl x509 -in cert.pem -text -noout
```
