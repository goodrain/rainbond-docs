---
title: 异构应用模板
description: Rainbond 异构应用模板的创建、发布与使用指南
keywords:
- 异构应用模板
- 多架构应用
- ARM64应用商店
- 国产化信创
---

# 异构应用模板

## 概述

异构应用模板是 Rainbond 信创版本的重要功能，它允许用户创建、分享和部署适用于不同 CPU 架构（如 X86_64 和 ARM64）的应用。通过异构应用模板，用户可以：

- 在不同架构环境中一键部署完整应用
- 跨架构分享应用配置和组件关系
- 加速国产化信创环境的应用适配与交付

Rainbond 的异构应用模板机制简化了多架构环境下的应用交付流程，使得应用在不同架构间的迁移变得简单高效。

## 发布指定架构的应用模板

Rainbond 在进行常规的发布应用模板操作时，会自动识别并记录当前应用中所有服务组件的架构信息。这些架构信息将被保存到应用模板的元数据中，确保在模板安装时，系统能够将组件准确地部署到具有对应 CPU 架构的计算节点上。

### 发布流程详解

1. **准备应用**
   - 确保应用中的组件已经在对应架构上成功部署和测试
   - 验证组件间的依赖关系正常工作
   - 检查每个组件的架构标记是否正确

2. **发布应用模板**
   - 在应用拓扑图页面，选择`应用发布 → 发布到本地组件库`
   - 填写模板基本信息（名称、版本号、描述等）
   - 系统自动检测并记录各组件的架构信息
   - 点击`提交`开始发布流程

![](/docs/how-to-guides/localization-guide/multi-arch-template-publish.png)

3. **架构标记与验证**
   - 发布过程中，系统会自动为每个组件添加架构标签
   - 组件镜像会根据架构进行分类和标记

### 多架构应用模板示例

以一个典型的微服务应用为例，如果您的应用包含：
- 在 ARM64 节点上运行的前端服务
- 在 X86_64 节点上运行的后端服务和数据库

发布成应用模板后，这些架构信息将被保留，确保后续部署时组件能够部署到正确的架构节点上。

:::tip 提示
如果您的应用包含混合架构的组件，请确保目标环境中同时具有相应架构的计算节点，否则某些组件可能无法正常部署。
:::

## 应用模板的架构管理

### 查看应用架构信息

发布完成后，您可以在应用市场中查看应用模板的架构支持情况：

1. 进入`从应用市场安装 → 本地组件库`
2. 展示出所有已发布的应用模板，模板名称后会显示支持的架构信息

### 多架构标记规则

Rainbond 对应用模板的架构标记遵循以下规则：

1. **单一架构应用**：如果应用中所有组件都是同一架构，则整个应用会被标记为 `amd64` 或 `arm64`
2. **混合架构应用**：如果应用包含不同架构的组件，则应用会被标记为 `amd64&arm64`
3. **架构兼容性提示**：安装应用时，系统会检查目标环境是否具备所需的架构支持

## 安装异构应用模板

### 基本安装流程

1. 进入`目标团队 → 从应用市场安装 → 本地组件库`
2. 选择要安装的应用模板，点击`安装`按钮
3. 点击`确定`开始安装

![](/docs/how-to-guides/localization-guide/multi-arch-template-install.png)


### 架构兼容性检查

在安装过程中，Rainbond 会执行以下架构兼容性检查：

1. 检查目标环境是否拥有应用所需的所有架构节点
2. 对于每个组件，确认是否有与其架构匹配的计算节点
3. 如果发现架构不兼容，系统会给出相应警告

:::warning 注意
如果目标环境缺少某些架构的节点，对应架构的组件将无法正常部署。安装前请确保环境具备所需的多架构支持。
:::

## 开源应用商店

Rainbond 开源应用商店持续丰富支持 ARM64 架构的应用模板（持续更新中）。

1. 进入`目标团队 → 从应用市场安装 → 开源应用商店`
2. 浏览或搜索您需要的应用，默认情况下会展示集群中支持的对应架构的应用
3. 点击`安装`按钮

## 常见问题

### 应用模板在特定架构环境中无法安装

**可能原因**：
- 目标环境缺少应用所需的架构节点
- 应用依赖的基础镜像不支持目标架构

**解决方案**：
- 确保目标环境具有应用所需的所有架构类型的节点
- 使用支持多架构的基础镜像
- 为不同架构构建专用的应用版本

### 如何创建同时支持多架构的应用模板？

最佳实践是针对每个架构单独构建组件，确保它们能在各自架构上正常运行，然后将它们组合到一个应用中，发布为应用模板。Rainbond 会自动记录每个组件的架构信息，并在安装时将其调度到正确的节点上。
