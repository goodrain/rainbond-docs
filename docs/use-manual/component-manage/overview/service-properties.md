---
title: 组件生命周期
description: Rainbond基础属性的说明文档
---

本文讲解与应用相关的属性及名词，从而让你更清晰的了解应用的概念。

### 服务组件的状态

服务组件一旦创建，就进入到服务组件的生命周期，在整个生命周期中会有一系列的状态，下文对各个状态进行解释。多数状态预设了超时时间，无论是否超时，在 **3 分钟** 后，都可以对服务组件重新进行全部生命周期操作：：

| 状态                                  | 说明                                                         |
| ------------------------------------- | :----------------------------------------------------------- |
| <font color="#40a9ff">创建中  </font> | 新创建的服务组件，正处于设置阶段。                           |
| <font color="#40a9ff">构建中  </font> | 新创建的服务组件设置完成，正在进行第一次服务组件版本构建。源码构建超时时间1小时，Dockerfile构建超时30分钟。**超时不意味构建失败**，参考构建日志来了解当前进度。  |
| <font color="#ffa940">调度中  </font> | 服务组件一旦构建完成，即进入调度中状态，**实例颜色呈黄色**。这个过程由K8s分配宿主机对实例进行调度。如果长时间维持在这个状态，则可能是由于没有宿主机节点可以运行该组件。 |
| <font color="#40a9ff">启动中  </font> | 服务组件正在启动，**实例颜色呈黄色**。暂时不能访问，启动分为两个阶段，进程启动和业务启动，如果未配置启动时健康检查，只要进程启动完成则认为启动成功。启动超时时间为 40秒 * 实例数量。**启动超时不意味启动失败** |
| <font color="#40a9ff">等待启动</font> | 等待启动状态和启动中状态不会同时出现，一旦进入等待启动状态，**实例颜色呈黄色**。说明当前服务组件所依赖的其他服务组件没有启动完成。需要等待所依赖的其他服务组件启动完成后，当前服务组件才会进入启动中状态。 |
| <font color="#28cb75">运行中  </font> | 服务组件所有运行实例处于运行状态，**实例颜色呈绿色**。正常来说处于运行中的服务组件可以被访问，也可能由于业务启动缓慢应用暂时不能访问 |
| <font color="red">运行异常  </font>   | 服务组件运行正常的实例少于总实例即标识应用运行异常，**异常实例颜色呈红色**。对于多实例的服务组件，处于异常态的服务组件只要还有正常的实例即可提供服务。实例异常大多数情况是由于服务组件本身异常退出或因为内存不足发生 OOM 退出。平台会自动尝试重启异常的实例。可通过查看服务组件日志，或通过命令行工具查看更多应用信息 |
| <font color="#40a9ff">升级中</font>   | 服务组件正处于滚动更新过程中，**实例颜色呈黄色**。多个节点处于当前状态的服务组件可以正常访问。升级超时时间为 3分钟 * 实例数量。**升级超时不意味升级失败** |
| 已关闭                                | 服务组件已经停止运行，持久化数据依然存在。关闭超时时间为 40秒 * 实例数量。如长时间处于 **关闭中** 状态，**实例颜色呈黑色**，请联系运维同事。 |
| <font color="#717171">未知</font>     | **实例颜色呈淡蓝色**，服务组件处于此状态可能由于网络受阻，获取服务组件状态失败，或后端服务异常。可以尝试刷新页面，如果不能解决，请联系运维同事。 |

### 应用的版本

针对不同类型的应用，版本的标示也有所不同：

| 应用类型    | 版本信息                           | 示例           |
| ----------- | ---------------------------------- | -------------- |
| 源码构建    | 从代码仓库拉取代码构建应用的时间戳 | 20180803171811 |
| Docker 镜像 | 镜像 tag 信息                      | 1.15.2-alpine  |
| 云市应用    | 应用版本                           | 5.6.7          |
